<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Highlight Grid Cell on Image</title>
    <style>
        .image-container {
            position: relative;
            display: inline-block;
        }
        #image {
            display: block;
            width: 300px; /* Adjust to your image size */
            height: auto; /* Maintain aspect ratio */
        }
        .grid-overlay {
            position: absolute;
            top: 154px;
            left: 109.3px;
            width: 27%;
            height: 17.7%;
            pointer-events: none; /* Allows clicking through the grid */
            display: grid;
            grid-template-columns: repeat(8, 1fr); /* Adjust number of columns */
            grid-template-rows: repeat(4, 1fr);
            background-color: transparent;
        }
        .grid {
            border: 1px solid black;
            box-sizing: border-box;
            background-color: transparent;
        }
        .highlight {
            position: absolute;
            border: 2px solid blue;
            background-color: rgba(0, 0, 255, 0.2); /* Semi-transparent blue */
           pointer-events: none; /* Allows interaction with underlying elements */
        }
        .highlight.active {
            background-color: rgba(0, 0, 255, 0.5); /* More visible highlight */
        }
        .grid.active{
            background-color: blue;
        }
        .visible{
            display: block !important;
        }
    </style>
</head>
<body>
    <center>
        <div class="image-container">
            <img id="image" src="https://uploads-ssl.webflow.com/669ff9d1f834f9d0603e5d17/66a0f6f59068fe3c45aa7907_3d%20model.png" alt="Sample Image">
            <div class="grid-overlay" id="grid-overlay"></div>
        </div>
    </center>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!--<button onclick="togglegrid()">Show Grid</button> -->
    <script>
        function createGrid(rows, columns) {
            const gridOverlay = document.getElementById('grid-overlay');
            gridOverlay.innerHTML = ''; // Clear existing grid
            const gridWidth = gridOverlay.clientWidth;
            const gridHeight = gridOverlay.clientHeight;

            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < columns; j++) {
                    const gridCell = document.createElement('div');
                    gridCell.className = 'grid';
                    gridCell.style.left = `${j * (gridWidth / columns)}px`;
                    gridCell.style.top = `${i * (gridHeight / rows)}px`;
                    gridCell.dataset.row = i;  // Store row information
                    gridCell.dataset.col = j;  // Store column information
                    gridOverlay.appendChild(gridCell);
                }
            }
        }

        function highlightRegion(col, row) {
            const cells = document.querySelectorAll('#grid-overlay .grid');
            cells.forEach(cell => {
                const cellRow = parseInt(cell.dataset.row, 10)+1;
                const cellCol = parseInt(cell.dataset.col, 10)+1;
                if (cellRow === row && cellCol === col) {
                    cell.classList.add('active');
                } else {
                    cell.classList.remove('active');
                }
            });
        }
        const objectDict = {
            'A':1,
            'B':2,
            'C':3,
            'D':4,
            'E':5,
            'F':6,
            'G':7,
            'H':8
        };
        function toggleGrid() {
            const gridOverlay = document.getElementById('grid-overlay');
            gridOverlay.classList.toggle('visible');
        }
        $(document).ready(function() {
            createGrid(4, 8);
            highlightRegion(objectDict.C, 2);

            $("#grid-overlay").on("mouseover", ".grid", function() {
                $(this).css("background-color", "transpa");
            });

            $(".newGrid").click(function() {
                let newRows = prompt("Enter the number of rows:");
                let newColumns = prompt("Enter the number of columns:");
                createGrid(parseInt(newRows), parseInt(newColumns));
            });
        });
    </script>
</body>
</html>
